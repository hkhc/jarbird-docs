---
title: Publish to Maven Central
tags: tutorial
sidebar_label: Publish to Maven Central
sidebar_position: 4
---
In this tutorial we will go through the process of publishing to Maven Central.

The sample project is [here](https://github.
com/hkhc/jarbird-samples/mavencentral).

We need the following before we can publish component to Maven Central.

- JIRA account for Sonatype OSSRH (OSS Repository Hosting)
- Claim your namespace on Maven Central repository

Refer to [official documentation](https://central.sonatype.org/publish/publish-guide/#initial-setup) of OSSRH to set up the above.

If your project is hosted at GitHub, and use `io.github.[user]` or `com.github.[user]` 
as group name, then you don't need to claim your namespace.

Again they are one off things, If you have done that you may go ahead.

## Project setup

### gradle.properties

Add the OSSRH account information to `gradle.properties`.

```properties title="~/.gradle/gradle.properties"
# ...
repository.mavencentral.username=your-username
repository.mavencentral.password=your-password
repository.mavencentral.newUser=false
# ...
```

Note the `newUser` line. Maven Central use different servers to publish and
manage publication depends on whether the account is 'new' account. If the
account is registered before Feb 2021, it is 'old' account.

Jarbird adjust the URL to publish components according to the `newUser` flag.
Default is `true`.


### build.gradle

Tell Jarbird plugin that we want to publish to Maven Central.

<!--tabs-->
# Groovy
```groovy title="build.gradle" {5}
// ...
jarbird {
    pub {
        mavenLocal()
        mavenCentral()
        useGpg = true
    }
}
// ...
```
# Kotlin
```kotlin title="build.gradle.kts" {5}
// ...
jarbird {
    pub {
        mavenLocal()
        mavenCentral()
        useGpg = true
    }
}
// ...
```
<!--/tabs-->

`mavenLocal()` can be omitted if you are not going to publish to Maven Local repository.

### pom.yaml

It is required to provide sufficient information about the component before it is 
approved to be published. This information includes:

- The proper GAV coordinate.
- Description
- URL that host the source code
- Developer's information.

Jarbird get all of those at the `pom.yaml` file:

``` yaml title="pom.yaml"
group: jarbirdsamples
artifactId: mevendemo
version: 1.0
packaging: jar

licenses:
  - name: Apache-2.0
    dist: repo

developers:
  - id: demo
    name: Jarbird Demo
    email: jarbird.demo@fake-email.com

scm:
  repoType: github.com
  repoName: demo/jarbird-samples/maven-demo

```

See TODO for more details about the content of `pom.yaml`.

Jarbird plugin read the file and create proper POM file for publishing automatically.

With this setup, we can see more tasks available with `./gradlew tasks`

```text
Jarbird publishing tasks
------------------------
jbPublish - Publish
jbPublishMavendemo - Publish module 'mavendemo' to all targeted repositories
jbPublishMavendemoToMavenCentral - Publish module 'mavendemo' to Maven Central
jbPublishMavendemoToMavenLocal - Publish module 'mavendemo' to Maven Local repository
jbPublishMavendemoToMavenRepository - Publish module 'mavendemo' to all Maven repositories
jbPublishToMavenCentral - Publish to Maven Central
jbPublishToMavenLocal - Publish to Maven Local repository
jbPublishToMavenRepository - Publish to all Maven repositories
```

The task `jbPublish` publishes component to all specified repositories,
which is MavenLocal and MavenCentral for this sample.
We may use `jbPublishToMavenCentral`  to publish our component to Maven Central
repository only.

After published the component to Maven Central successfully,
we need to release the component manually at OSSRH website.
